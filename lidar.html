<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LiDAR Setup & Integration</title>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>
  <header>
    <h1>LiDAR System Guide (Raspberry Pi + ROS 2 Humble)</h1>
    <nav>
      <a href="index.html">Home</a>
      <a href="parts.html">Parts List</a>
      <a href="sensor.html">Sensor Setup</a>
      <a href="lidar.html">LiDAR Car</a>
    </nav>
    <button onclick="toggleDarkMode()">üåô Toggle Dark Mode</button>
  </header>

  <main>
    <section class="card">
        <details>
          <summary>üß† Raspberry Pi + Ubuntu22.04 Full Setup</summary>
          <ol>
            <li>Flash Ubuntu 22.04 to SD</li>
            <li>Enable SSH, Wi-Fi, boot the Pi</li>
            <li>Install GUI:<br><code>sudo apt install xfce4 lightdm -y</code></li>
            <li>Install Tailscale:<br><code>curl -fsSL https://tailscale.com/install.sh | sh</code></li>
            <li>Install VNC:<br><code>sudo apt install x11vnc -y</code></li>
            <li>Install ROS 2 Humble, source in bashrc</li>
            <li>Create ROS workspace:<br><code>mkdir -p ~/ros2_ws/src && colcon build</code></li>
            <li>Install `colcon`, `joy`, `rpi.gpio`</li>
            <li>Create mecanum drive package</li>
            <li>Pair PS4 controller with `bluetoothctl`</li>
            <li>Headless HDMI settings for Pi</li>
          </ol>
        </details>
      </section>

  <main>
    <section class="card">
        <details>
          <summary>üß† Raspberry Pi + ROS 2: Full Setup</summary>
          <ol>
            <li>Flash Ubuntu 22.04 to SD</li>
            <li>Enable SSH, Wi-Fi, boot the Pi</li>
            <li>Install GUI:<br><code>sudo apt install xfce4 lightdm -y</code></li>
            <li>Install Tailscale:<br><code>curl -fsSL https://tailscale.com/install.sh | sh</code></li>
            <li>Install VNC:<br><code>sudo apt install x11vnc -y</code></li>
            <li>Install ROS 2 Humble, source in bashrc</li>
            <li>Create ROS workspace:<br><code>mkdir -p ~/ros2_ws/src && colcon build</code></li>
            <li>Install `colcon`, `joy`, `rpi.gpio`</li>
            <li>Create mecanum drive package</li>
            <li>Pair PS4 controller with `bluetoothctl`</li>
            <li>Headless HDMI settings for Pi</li>
          </ol>
        </details>
      </section>

    <section class="card">
      <details>
        <summary>üì∑ USB Camera Setup on ROS 2.0</summary>
        <p>This guide will help you install and run a USB camera (like the Logitech Brio 100) using ROS 2 and Ubuntu.</p>
        <ol>
          <li><b>Plug in the USB Camera:</b><br>Check with <code>ls /dev/video*</code></li>
          <li><b>Install ROS 2 Camera Packages:</b><br><code>sudo apt update</code><br><code>sudo apt install ros-humble-image-tools ros-humble-v4l2-camera</code></li>
          <li><b>Launch Raw Image Publisher:</b><br><code>ros2 run v4l2_camera v4l2_camera_node</code></li>
          <li><b>Check Topic:</b><br><code>ros2 topic list</code></li>
          <li><b>Launch Compressed Publisher:</b><br><code>ros2 run image_transport republish raw in:=/image_raw compressed:=/image_raw/compressed</code></li>
          <li><b>View Output:</b><br><code>ros2 topic echo /image_raw</code></li>
          <li><b>View in RViz2:</b>
            <ul>
              <li><code>rviz2</code></li>
              <li>Add <i>Image</i> display. Set topic to <code>/image_raw</code>.</li>
            </ul>
          </li>
          <li><b>Install RViz2 if missing:</b><br><code>sudo apt install ros-humble-rviz2</code></li>
          <li><b>Fix Permissions:</b><br><code>sudo chmod 777 /dev/video0</code></li>
        </ol>
      </details>
    </section>

    <section class="card">
      <details>
        <summary>üõ∞Ô∏è What is LiDAR?</summary>
        <p>LiDAR uses lasers to measure the distance of objects, like a radar but with light. It lets robots "see" walls, furniture, and people by detecting reflections of light pulses.</p>
      </details>
    </section>

    <section class="card">
      <details>
        <summary>üåÄ How to Set Up RPLIDAR C1 on ROS 2</summary>
        <ol>
          <li>Source environment:<br><code>source /opt/ros/humble/setup.bash</code></li>
          <li>Create workspace:<br><code>mkdir -p ~/ws_lidar/src</code></li>
          <li>Clone repo:<br><code>git clone https://github.com/Slamtec/sllidar_ros2.git</code></li>
          <li>Build:<br><code>cd ~/ws_lidar && colcon build --symlink-install</code></li>
          <li>Source overlay:<br><code>source install/setup.bash</code></li>
          <li>Connect USB, check:<br><code>ls -la /dev | grep USB</code></li>
          <li>Grant permissions:<br><code>sudo chmod 777 /dev/ttyUSB0</code></li>
          <li>Launch:<br><code>ros2 launch sllidar_ros2 view_sllidar_c1_launch.py</code></li>
          <li>Open RViz2:<br><code>rviz2</code></li>
          <li>Set display: <code>Add ‚Üí LaserScan</code>, topic: <code>/scan</code>, frame: <code>laser</code></li>
        </ol>
      </details>
    </section>

    <section class="card">
      <details>
        <summary>‚öôÔ∏è Motor HAT Setup (Cokoino 4WD)</summary>
        <ul>
          <li>7V‚Äì12.6V power input</li>
          <li>Regulates 5V to Pi GPIO</li>
          <li>IN1‚ÄìIN4, ENA/ENB, PWM controlled via GPIO</li>
          <li>Motor map:
            <ul>
              <li>Motor 1 ‚Äì Front Left</li>
              <li>Motor 2 ‚Äì Front Right</li>
              <li>Motor 3 ‚Äì Rear Left</li>
              <li>Motor 4 ‚Äì Rear Right</li>
            </ul>
          </li>
        </ul>
      </details>
    </section>

    <section class="card">
        <details>
          <summary>üìé Download Project Files (Word Format)</summary>
          <p>You can download the full setup guides and step-by-step documentation as Word files using the links below:</p>
          <ul>
            <li>
              <a href="files/Lidar.docx" download>üìÑ LiDAR Setup Guide (DOCX)</a>
            </li>
            <li>
              <a href="files/Logitech Cam.docx" download>üì∑ USB Camera Setup Guide (DOCX)</a>
            </li>
            <li>
              <a href="files/Step by step guide(1).docx" download>üìù Complete Step-by-Step Guide (DOCX)</a>
            </li>
          </ul>
          <p>üìå You can print these out and scan the QR code (see below) to come back to the website any time!</p>
        </details>
      </section>
      <section class="card">
        <h2>üé¨ Video Demonstrations</h2>
        <p>Watch the LiDAR Car system in action, including manual control, autonomous mode, and full system movement.</p>
      
        <div class="video-container">
          <!-- Video 1: Autonomous Navigation -->
          <div class="video-block">
            <h3>üöò Autonomous Navigation Mode</h3>
            <iframe width="560" height="315" src="https://www.youtube.com/embed/TEothjIMlyU"
              title="Autonomous Navigation Mode" frameborder="0" allowfullscreen></iframe>
          </div>
      
          <!-- Video 2: Keyboard Manual Control -->
          <div class="video-block">
            <h3>‚å®Ô∏è Keyboard-Controlled Driving</h3>
            <iframe width="560" height="315" src="https://www.youtube.com/embed/9ZjfeJcFqJo"
              title="Keyboard Control Driving" frameborder="0" allowfullscreen></iframe>
          </div>
      
          <!-- Video 3: LiDAR Car Movement Demo -->
          <div class="video-block">
            <h3>üõû LiDAR Car Movement Demo</h3>
            <iframe width="560" height="315" src="https://www.youtube.com/embed/f-S7wbVViuI"
              title="LiDAR Car Movement" frameborder="0" allowfullscreen></iframe>
          </div>
        </div>
      </section>      

      <section class="qr-section">
        <h3>üì± Quick Access</h3>
        <p>Scan this QR code to return to the LiDAR Car Project website.</p>
        <img src="media/QRcode.jpg" alt="QR code to project website" class="qr-code" />
      </section>
      
  </main>

  <footer>
    <p>¬© 2025 Connor Reagan, Hugo Acevedo, Dhruveen Sheth</p>
  </footer>

  <script src="js/main.js"></script>
</body>
</html>
