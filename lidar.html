<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LiDAR Setup & Integration</title>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>
  <header>
    <h1>LiDAR System Guide (Raspberry Pi + ROS 2 Humble)</h1>
    <nav>
      <a href="index.html">Home</a>
      <a href="parts.html">Parts List</a>
      <a href="sensor.html">Sensor Setup</a>
      <a href="lidar.html">LiDAR Car</a>
    </nav>
    <button onclick="toggleDarkMode()">ğŸŒ™ Toggle Dark Mode</button>
  </header>

      <section class="card">
      <details>
        <summary>OS Setup</summary>
    
        <h3>ğŸ“¦ Requirements</h3>
        <ul>
          <li>Raspberry Pi 4B (or 3B+)</li>
          <li>MicroSD Card (32GB or more, Class 10 recommended)</li>
          <li>MicroSD Card Reader</li>
          <li>Power Supply (5V 3A)</li>
          <li>HDMI Monitor, USB Keyboard and Mouse (for first-time setup)</li>
        </ul>
    
        <details>
  <summary>ğŸ–¥ï¸ Step 1: Installing Ubuntu</summary>

  <p>This guide covers the complete setup process for your Raspberry Pi 4B (8GB), including Ubuntu installation, GUI, and VNC configuration.</p>

  <h4>1. Ubuntu 22.04.2 LTS Installation</h4>
  <p>âœ… Works with ROS2</p>

  <p>ğŸ”½ Download Raspberry Pi Imager from:</p>
  <pre><code>https://www.raspberrypi.com/software/</code></pre>

  <p>âš¡ Use it to flash the image to a 32GB+ microSD card:</p>
  <pre><code>Choose OS â†’ Other general-purpose OS â†’ Ubuntu â†’ Ubuntu Server 22.04.2 LTS (64-bit)</code></pre>

  <p>ğŸ“ Choose your storage location and click <strong>Write</strong>.</p>
  <p>ğŸ“¶ Optionally configure Wi-Fi by editing:</p>
  <pre><code>network-config</code></pre>

  <p>ğŸ”Œ Insert the microSD into your Pi, power it on, and make sure itâ€™s connected to a monitor to boot properly.</p>

  <h4>2. System Update and GUI Installation</h4>
  <p>ğŸ¨ GUI = graphical user interface</p>

  <p>ğŸ“¦ Run system update:</p>
  <pre><code>sudo apt update && sudo apt upgrade -y</code></pre>

  <p>ğŸ”„ If prompted to update the kernel, choose 'yes' and keep default selections.</p>

  <p>ğŸ§° Install XFCE and LightDM:</p>
  <pre><code>sudo apt install xfce4 lightdm -y</code></pre>

  <p>ğŸ” Reboot:</p>
  <pre><code>sudo reboot</code></pre>

</details>

        
  <details>
  <summary>âš™ï¸ ROS 2 Setup</summary>

  <h4>5. Install ROS 2 Humble</h4>
  <p>ROS 2 Humble was chosen because it's a dedicated operating system framework designed for robotic control and communication.</p>

  <p>ğŸ”„ Update the system and configure locale:</p>
  <pre><code>sudo apt update && sudo apt upgrade -y
sudo apt install locales -y
sudo locale-gen en_US en_US.UTF-8
sudo update-locale LC_ALL=en_US.UTF-8 LANG=en_US.UTF-8</code></pre>

  <p>ğŸŒ Add ROS 2 sources and install:</p>
  <pre><code>sudo apt install curl gnupg lsb-release -y
sudo curl -sSL https://raw.githubusercontent.com/ros/rosdistro/master/ros.key -o /usr/share/keyrings/ros-archive-keyring.gpg</code></pre>

  <p>ğŸ“„ Add source list:</p>
  <pre><code>echo "deb [signed-by=/usr/share/keyrings/ros-archive-keyring.gpg] http://packages.ros.org/ros2/ubuntu $(. /etc/os-release && echo $UBUNTU_CODENAME) main" | sudo tee /etc/apt/sources.list.d/ros2.list > /dev/null</code></pre>

  <p>ğŸ“¦ Update again and install ROS 2 Humble Desktop:</p>
  <pre><code>sudo apt update
sudo apt install ros-humble-desktop -y</code></pre>

  <p>ğŸ” Source ROS in your shell:</p>
  <pre><code>echo "source /opt/ros/humble/setup.bash" >> ~/.bashrc
source ~/.bashrc</code></pre>

  <p>ğŸ§ª Test installation:</p>
  <pre><code>ros2 run demo_nodes_cpp talker</code></pre>

  <p><em>(If the installation went correctly, you should see ROS output messages in the terminal.)</em></p>
</details>



<details>
  <summary>âš™ï¸ Creating ROS2 Environment</summary>

  <p><strong>Create ROS 2 Workspace</strong></p>
  <p>ROS 2 workspace serves as a dedicated directory for organizing and developing your robotâ€™s software.</p>

  <p>ğŸ“¦ Install colcon:</p>
  <pre><code>sudo apt install python3-colcon-common-extensions -y</code></pre>
  <!-- [Insert Screenshot] -->

  <p>ğŸ“ Create and build workspace:</p>
  <pre><code>mkdir -p ~/ros2_ws/src
cd ~/ros2_ws
colcon build
source install/setup.bash</code></pre>

</details>


          <details>
              <summary>ğŸ”§ Part 3: Remote Access & Development Setup</summary>
              <details>
                <summary>ğŸ“… Step 1: Download and Install VS Code</summary>
                <ol>
                  <li>Go to <a href="https://code.visualstudio.com/" target="_blank">Visual Studio Code</a> and download the version for your OS (Windows, macOS, or Linux).</li>
                  <li>Install it using the standard installer.</li>
                  <li>Launch VS Code and open the Extensions tab (left sidebar).</li>
                  <li>Search for and install the extension called <strong>"Remote - SSH"</strong>.</li>
                </ol>
              </details>
              <details>
                <summary>ğŸŒ Step 2: Set Up Remote Access Options</summary>
                <h4>ğŸ–¥ï¸ Option A: Tailscale</h4>
                <p><strong>Tailscale</strong> is a secure mesh VPN that connects your devices together into a private network using WireGuard.</p>
          
                <h5>ğŸ’» On Your Computer:</h5>
                <ol>
                  <li>Visit <a href="https://tailscale.com/download" target="_blank">tailscale.com/download</a> and install Tailscale.</li>
                  <li>Sign in using GitHub, Google, or Microsoft account.</li>
                  <li>Click <strong>"Enable Tailscale"</strong> to activate the virtual network.</li>
                </ol>
          
                <h5>ğŸ“ On Your Raspberry Pi:</h5>
                <div class="code-block">
                  <pre><code>curl -fsSL https://tailscale.com/install.sh | sh
          sudo tailscale up</code></pre>
                </div>
                <p>Log in via browser when prompted. The Pi will appear in your Tailscale dashboard with a private IP (e.g., <code>100.101.102.103</code>).</p>
          
                <h4>ğŸŒ Option B: Setup VNC</h4>
                <p><strong>VNC</strong> (Virtual Network Computing) is a remote desktop-sharing system that lets you control your Raspberry Pi's GUI from another device over a network.</p>
                <ol>
                  <li>Install VNC:
                    <pre><code>sudo apt install x11vnc -y</code></pre>
                   <!-- [Insert Screenshot] -->
                  </li>

                  <li>Optional: Set up auto-login:
                    <pre><code>sudo nano /etc/lightdm/lightdm.conf</code></pre>
                   Paste the following (replace <code>ubuntu</code> with your username):
                   <pre><code>[Seat:*]
                autologin-user=ubuntu
                autologin-user-timeout=0
                user-session=ubuntu
                greeter-session=lightdm-gtk-greeter</code></pre>
                    Save with <code>Ctrl+O</code>, <code>Enter</code>, then <code>Ctrl+X</code>.
                   <!-- [Insert Screenshot] -->
                 </li>

                  <li>Start the VNC server:
                   <pre><code>x11vnc -usepw -forever -display :0</code></pre>
                   <!-- [Insert Screenshot] -->
                  </li>

                  <li>Connect from another device on the same Wi-Fi using the Piâ€™s IP address.
                    <br>You can get it with:
                    <pre><code>hostname -I</code></pre>
                   You may need to add <code>:5900</code> or <code>:5901</code> to the IP.
                   <br>If using a mobile hotspot, check the hotspot device list to find the Piâ€™s IP.
                 </li>
                </ol>
              </details>
          
              <details>
                <summary>ğŸ” Step 3: Connect via VS Code (SSH)</summary>
                <ol>
                  <li>In VS Code, press <kbd>Cmd/Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>P</kbd>.</li>
                  <li>Select <strong>Remote-SSH: Connect to Host</strong>.</li>
                  <li>Enter the Pi's Tailscale IP like:
                    <div class="code-block"><code>pi@100.101.102.103</code></div>
                  </li>
                  <li>Authenticate with your Pi's password.</li>
                  <li>You're now working directly on the Pi through VS Code with full file system access.</li>
                </ol>
          
                <h3>ğŸ¤º Which Should You Use?</h3>
                <div class="tip-box">
                  <strong>ğŸ”§ Use VS Code with Tailscale if you:</strong>
                  <ul>
                    <li>Need to write or edit code (Python, HTML, etc.)</li>
                    <li>Want terminal + Git + live development tools</li>
                    <li>Prefer using an IDE over a browser</li>
                  </ul>
                </div>
                <div class="tip-box">
                  <strong>ğŸŒ Use VNC if you:</strong>
                  <ul>
                    <li>You need full access to the Raspberry Pi desktop environment remotely.</li>
                    <li>You want to interact with GUI apps as if sitting at the Pi.</li>
                    <li>You're on the same local Wi-Fi network or know your Piâ€™s IP address.</li>
                    <li>You prefer an open-source, customizable remote desktop solution.</li>

                  </ul>
                </div>
                <p><strong>Pro Tip:</strong> You can use both! Use VNC for quick GUI tweaks, and Tailscale+SSH for serious development work.</p>
              </details>
            </section>


    <section class="card">
      <details>
        <summary>USB Camera & Lidar Setup</summary>
    
        <h3>ğŸ“¦ What You Need</h3>
        <ul>
          <li>Raspberry Pi 4B (or 3B+)</li>
          <li>Flashed MicroSD card with Ubuntu and Ros2</li>
          <li>Power Supply (5V 3A)</li>
          <li>RP LiDAR C1</li>
          <li>HDMI Monitor, USB Keyboard and Mouse OR SSH & VNC</li>
        </ul>
<details>
  <summary>ğŸ–¥ï¸ Setup RP Lidar C1</summary>

  <p><strong>What is LiDAR?</strong></p>
  <p>
    LiDAR stands for Light Detection and Ranging. Itâ€™s a special kind of sensor that uses laser beams to measure how far things are around it.
    You can think of it like a superheroâ€™s radarâ€”it spins and shoots out tiny lasers, then checks how long it takes for them to bounce back.
    Thatâ€™s how it knows where walls, chairs, or even people are! Robots use LiDAR to â€œseeâ€ and move around safely without bumping into things.
  </p>

  <p><strong>How to Set Up RPLIDAR C1 on ROS 2 (Ubuntu)</strong><br>
  Letâ€™s install the LiDAR on a Raspberry Pi running Ubuntu and ROS 2 Humble. Follow these simple steps:</p>

  <p><strong>Step 1: Set up your ROS 2 environment</strong></p>
  <pre><code>source /opt/ros/humble/setup.bash</code></pre>

  <p><strong>Step 2: Create a new workspace folder</strong><br>This is where youâ€™ll store your LiDAR files:</p>
  <pre><code>cd ~
mkdir -p ~/ws_lidar/src
cd ~/ws_lidar/src</code></pre>

  <p><strong>Step 3: Download the LiDAR software</strong></p>
  <pre><code>git clone https://github.com/Slamtec/sllidar_ros2.git</code></pre>

  <p><strong>Step 4: Check if the folder was downloaded</strong></p>
  <pre><code>ls -la</code></pre>
  <p>You should see a folder named <code>sllidar_ros2</code>.</p>

  <p><strong>Step 5: Build the workspace</strong></p>
  <pre><code>cd ~/ws_lidar/
colcon build --symlink-install</code></pre>
  <p>If you see warnings (stderr), donâ€™t worry! They're just messagesâ€”not errors.</p>

  <p><strong>Step 6: Check if the build worked</strong></p>
  <pre><code>ls -la</code></pre>
  <p>Look for: <code>build</code>, <code>install</code>, <code>log</code>, and <code>src</code></p>

  <p><strong>Step 7: Tell your system about the new software</strong></p>
  <pre><code>source ~/ws_lidar/install/setup.bash</code></pre>

  <p><strong>Step 8: Plug in your RPLIDAR via USB</strong></p>
  <pre><code>ls -la /dev | grep USB</code></pre>
  <p>Look for something like:</p>
  <pre><code>crw-rw---- 1 root dialout ... ttyUSB0</code></pre>

  <p><strong>Step 9: Give permission to access the LiDAR</strong></p>
  <pre><code>sudo chmod 777 /dev/ttyUSB0</code></pre>
  <p>Double check:</p>
  <pre><code>ls -la /dev | grep USB</code></pre>
  <p>Now it should say:</p>
  <pre><code>crwxrwxrwx ...</code></pre>

  <p><strong>Step 10: Launch the LiDAR!</strong></p>
  <pre><code>ros2 launch sllidar_ros2 view_sllidar_c1_launch.py</code></pre>

  <p><strong>Step 11: Open RViz2 to See the LiDAR Scan</strong></p>
  <pre><code>rviz2</code></pre>
  <p>RViz2 is like the robotâ€™s eyes! It shows a live 2D scan of what the LiDAR "sees" around it.</p>

  <p><strong>Step 12: Set the RViz2 Display Settings</strong><br>Once RViz2 opens, follow these steps:</p>
  <ol>
    <li>On the left panel, click <code>Add</code> â†’ choose <code>LaserScan</code>.</li>
    <li>Set the LaserScan Topic to: <code>/scan</code></li>
    <li>Set the Fixed Frame (top left dropdown) to: <code>laser</code></li>
  </ol>
  <p>Now you should start seeing dots or lines representing objects around the LiDAR!</p>

  <p><strong>Step 13: What if RViz2 is not installed?</strong><br>If your terminal says:</p>
  <pre><code>Command 'rviz2' not found</code></pre>
  <p>Then install it using this command:</p>
  <pre><code>sudo apt update
sudo apt install ros-humble-rviz2</code></pre>
  <p>Once installed, try again:</p>
  <pre><code>rviz2</code></pre>
</details>

        
        <details>
  <summary>âš™ï¸ Logitech Brio 100 USB Camera Setup</summary>

  <p><strong>How to Set Up a USB Camera on ROS 2 (Logitech Brio 100)</strong><br>
  This guide will help you install and run a USB camera (like the Logitech Brio 100) using ROS 2 and Ubuntu. Weâ€™ll use two nodes: one to publish raw camera frames (<code>/image_raw</code>) and another to publish compressed video (<code>/image_raw/compressed</code>).</p>

  <p><strong>Step 1: Plug in the USB Camera</strong><br>
  Connect your USB camera (e.g., Logitech Brio 100) to the Raspberry Pi or your PC using a USB port.<br>
  You can check if itâ€™s connected by running:</p>
  <pre><code>ls /dev/video*</code></pre>
  <p>If you see <code>/dev/video0</code>, the camera is detected.</p>

  <p><strong>Step 2: Install ROS 2 Camera Packages</strong><br>
  Make sure these packages are installed:</p>
  <pre><code>sudo apt update
sudo apt install ros-humble-image-tools ros-humble-v4l2-camera</code></pre>

  <p><strong>Step 3: Launch the Raw Image Publisher</strong><br>
  Use the <code>v4l2_camera</code> node to start publishing camera frames to <code>/image_raw</code>:</p>
  <pre><code>ros2 run v4l2_camera v4l2_camera_node</code></pre>
  <p>By default, it will start broadcasting frames to <code>/image_raw</code>.</p>

  <p><strong>Step 4: Check the Topic</strong><br>
  To verify if the camera is streaming, run:</p>
  <pre><code>ros2 topic list</code></pre>
  <p>You should see <code>/image_raw</code> in the list.</p>

  <p><strong>Step 5: Launch the Compressed Image Publisher</strong><br>
  Use this command to publish compressed video to <code>/image_raw/compressed</code>:</p>
  <pre><code>ros2 run image_transport republish raw in:=/image_raw compressed:=/image_raw/compressed</code></pre>

  <p><strong>Step 6: Verify Output</strong><br>
  To check if both raw and compressed image streams are working, use:</p>
  <pre><code>ros2 topic echo /image_raw
ros2 topic echo /image_raw/compressed</code></pre>

  <p><strong>Step 7: View the Camera Feed</strong><br>
  You can visualize the live camera feed in RViz2 by adding an <code>Image</code> display:</p>
  <ol>
    <li>Open RViz2:
      <pre><code>rviz2</code></pre>
    </li>
    <li>Click <code>Add</code> and choose <code>Image</code>.</li>
    <li>Set the topic to <code>/image_raw</code> or <code>/image_raw/compressed</code>.</li>
    <li>Set the fixed frame to <code>camera_link</code> (or whichever TF frame is being used).</li>
  </ol>

  <p><strong>Step 8: Fixing Missing RViz2 or Errors</strong></p>
  <p>If <code>rviz2</code> isnâ€™t installed, install it using:</p>
  <pre><code>sudo apt install ros-humble-rviz2</code></pre>

  <p>If you get device or permission errors, make sure <code>/dev/video0</code> has the right permissions:</p>
  <pre><code>sudo chmod 777 /dev/video0</code></pre>

  <p><strong>Step 9: Common Errors and Fixes</strong><br>Here are some common errors you might run into and how to fix them:</p>
  <ul>
    <li><b>Error:</b> <code>rviz2: command not found</code><br>
        <b>Fix:</b>
      <pre><code>sudo apt install ros-humble-rviz2</code></pre>
    </li>

    <li><b>Error:</b> <code>Cannot open '/dev/video0'</code> or <code>Permission denied</code><br>
        <b>Fix:</b>
      <pre><code>sudo chmod 777 /dev/video0</code></pre>
    </li>

    <li><b>Error:</b> <code>No image received on topic /image_raw</code><br>
        <b>Fixes:</b>
      <ul>
        <li>Make sure the camera is properly connected.</li>
        <li>Ensure the camera node is running:<br><code>ros2 run v4l2_camera v4l2_camera_node</code></li>
        <li>Check if <code>/image_raw</code> topic exists:<br><code>ros2 topic list</code></li>
        <li>Use:<br><code>ros2 topic echo /image_raw</code> to see live data.</li>
      </ul>
    </li>
  </ul>

  <p><strong>Step 10: View Camera Feed in RViz2</strong><br>To visualize the live video from your USB camera in RViz2:</p>
  <ol>
    <li>Launch RViz2:
      <pre><code>rviz2</code></pre>
    </li>
    <li>In RViz2:
      <ul>
        <li>Click the <code>Add</code> button in the bottom left.</li>
        <li>Choose <code>Image</code> from the list.</li>
      </ul>
    </li>
    <li>In the Image settings:
      <ul>
        <li>Set the topic to:<br><code>/image_raw/compressed</code></li>
      </ul>
    </li>
  </ol>

  <p>Now you should see your camera stream inside RViz2!</p>
</details>
            </details>
          </section>


    <section class="card">
      <details>
        <summary>âš™ï¸ Motor HAT Setup (Cokoino 4WD)</summary>
        <ul>
          <li>7Vâ€“12.6V power input</li>
          <li>Regulates 5V to Pi GPIO</li>
          <li>IN1â€“IN4, ENA/ENB, PWM controlled via GPIO</li>
          <li>Motor map:
            <ul>
              <li>Motor 1 â€“ Front Left</li>
              <li>Motor 2 â€“ Front Right</li>
              <li>Motor 3 â€“ Rear Left</li>
              <li>Motor 4 â€“ Rear Right</li>
            </ul>
          </li>
        </ul>
      </details>
    </section>

    <section class="card">
        <details>
          <summary>ğŸ“ Download Project Files (Word Format)</summary>
          <p>You can download the full setup guides and step-by-step documentation as Word files using the links below:</p>
          <ul>
            <li>
              <a href="files/Lidar.docx" download>ğŸ“„ LiDAR Setup Guide (DOCX)</a>
            </li>
            <li>
              <a href="files/Logitech Cam.docx" download>ğŸ“· USB Camera Setup Guide (DOCX)</a>
            </li>
            <li>
              <a href="files/Step by step guide(1).docx" download>ğŸ“ Complete Step-by-Step Guide (DOCX)</a>
            </li>
          </ul>
          <p>ğŸ“Œ You can print these out and scan the QR code (see below) to come back to the website any time!</p>
        </details>
      </section>
      <section class="card">
        <h2>ğŸ¬ Video Demonstrations</h2>
        <p>Watch the LiDAR Car system in action, including manual control, autonomous mode, and full system movement.</p>
      
        <div class="video-container">
          <!-- Video 1: Autonomous Navigation -->
          <div class="video-block">
            <h3>ğŸš˜ Autonomous Navigation Mode</h3>
            <iframe width="560" height="315" src="https://www.youtube.com/embed/TEothjIMlyU"
              title="Autonomous Navigation Mode" frameborder="0" allowfullscreen></iframe>
          </div>
      
          <!-- Video 2: Keyboard Manual Control -->
          <div class="video-block">
            <h3>âŒ¨ï¸ Keyboard-Controlled Driving</h3>
            <iframe width="560" height="315" src="https://www.youtube.com/embed/9ZjfeJcFqJo"
              title="Keyboard Control Driving" frameborder="0" allowfullscreen></iframe>
          </div>
      
          <!-- Video 3: LiDAR Car Movement Demo -->
          <div class="video-block">
            <h3>ğŸ› LiDAR Car Movement Demo</h3>
            <iframe width="560" height="315" src="https://www.youtube.com/embed/f-S7wbVViuI"
              title="LiDAR Car Movement" frameborder="0" allowfullscreen></iframe>
          </div>
        </div>
      </section>      

      <section class="qr-section">
        <h3>ğŸ“± Quick Access</h3>
        <p>Scan this QR code to return to the LiDAR Car Project website.</p>
        <img src="media/QRcode.jpg" alt="QR code to project website" class="qr-code" />
      </section>
      
  </main>

  <footer>
    <p>Â© 2025 Connor Reagan, Hugo Acevedo, Dhruveen Sheth</p>
  </footer>

  <script src="js/main.js"></script>
</body>
</html>
